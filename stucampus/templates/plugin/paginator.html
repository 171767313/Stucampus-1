{% block htmlhead %}
{% load html_tools %}
{{ 'plugin/paginator.css' | as_css }}
{% endblock %}
<nav>
	<ul class="pagination">
	{% if page.has_previous %}
		<li>

			<a href="?page={{ page.previous_page_number }}" aria-label="Previous">
				<span aria-hidden="true">&laquo;</span>
			</a>
		</li>
	{% endif %}
		<li><span id="page_num">{{ page.number }}</span><span class="numspan">/</span><span id="page_all_num">{{ page.paginator.num_pages }}</span></li>
	{% if page.has_next %}
		<li>
			<a href="?page={{ page.next_page_number }}" aria-label="Next">
				<span aria-hidden="true">&raquo;</span>
			</a>
		</li>
	{% endif %}
		<input type="number" class="page_num_input">
		<button id="skip_to_page_num_btn" class="btn btn-default" type="button">跳转</button>
	</ul>

</nav>
<script type="text/javascript">
$(function(){
	var page_num=$("#page_num").text();
	$(".page_num_input").val(page_num);

	//不让页码超过范围
	$(".page_num_input").change(function(){
		var page_all_num=$("#page_all_num").text();
		var $page_num_input=$(".page_num_input");
		var page_num_input=parseInt($page_num_input.val());
		if(page_num_input<1)
		{
			$page_num_input.val(1);
		
		}
		else if(page_num_input>page_all_num)
		{
			$page_num_input.val(page_all_num);
			
		}

	});

	//跳转到对应的页数
	$("#skip_to_page_num_btn").click(function(){
		var pn = $(".page_num_input").val(); 
 		location.href = "?page="+pn;  
 		});  
	});
 
</script>
